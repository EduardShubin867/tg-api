# Image CDN Server

Сервер для обработки и раздачи изображений с возможностью трансформации.

## Возможности

- Загрузка изображений
- Конвертация в разные форматы (JPEG, WebP, PNG)
- Изменение размеров изображений
- Получение информации об изображениях
- Удаление изображений

## Технологии

- Node.js
- Express
- TypeScript
- Sharp (для обработки изображений)
- Multer (для загрузки файлов)

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл .env в корневой директории:
```env
PORT=3000
```

4. Запустите сервер:
```bash
# Для разработки
npm run dev

# Для продакшена
npm run build
npm start
```

## API Endpoints

### Загрузка изображения
```
POST /api/images/upload
Content-Type: multipart/form-data
Body: image=<file>
```

### Трансформация изображения
```
GET /api/images/transform/:filename?format=<jpeg|webp|png>&size=<thumbnail|medium|large>
```

### Получение информации об изображении
```
GET /api/images/:filename/info
```

### Удаление изображения
```
DELETE /api/images/:filename
```

## Конфигурация

Основные настройки находятся в файле `src/config/index.ts`:

- Поддерживаемые форматы
- Максимальный размер файла
- Размеры для трансформации
- Качество изображений

## Безопасность

- Helmet для защиты HTTP-заголовков
- CORS для контроля доступа
- Валидация типов файлов
- Ограничение размера файлов

## Лицензия

MIT